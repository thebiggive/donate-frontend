<app-popup-standalone aria-live="polite">
  <h2 mat-dialog-title>Set a password</h2>

  <mat-dialog-content class="mat-typography">
    <form [formGroup]="form">
      <p>Email address: <strong>{{ data.person.email_address }}</strong></p>

      <p>
        <strong>Your last payment card</strong> will be saved for reuse, if you selected
            "Save payment details for future purchases". It is held securely only with Stripe.
        <a href="https://stripe.com/docs/security/stripe" target="_blank">
          <mat-icon class="b-va-bottom" aria-hidden="false" aria-label="Open in new tab">open_in_new</mat-icon>
          Learn more about Stripe
        </a>.
      </p>

      <mat-form-field class="b-w-100" color="primary">
        <mat-label for="password">Password (at least {{ minPasswordLength }} characters)</mat-label>
        <input matInput type="password" id="password" formControlName="password">
      </mat-form-field>
      <p class="b-rt-0 radio-group-label" id="stayLoggedIn-label">If you're on a private computer, you can safely choose to be logged in.</p>
      <mat-radio-group tabindex="0" aria-labelledby="stayLoggedIn-label" formControlName="stayLoggedIn">
        <mat-radio-button class="b-mr-2" labelPosition="after" [value]="true">Log me in</mat-radio-button>
        <mat-radio-button class="b-mr-2" labelPosition="after" [value]="false">Don't log me in</mat-radio-button>
      </mat-radio-group>
    </form>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-raised-button id="createAccountButton" [disabled]="!form.valid" (click)="set()" color="primary">Create Account</button>
    <button mat-raised-button [mat-dialog-close]="false" color="accent">Cancel</button>
  </mat-dialog-actions>
</app-popup-standalone>
